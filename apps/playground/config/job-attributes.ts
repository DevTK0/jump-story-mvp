import type { JobConfig } from '@/player/combat/attack-types';

const _knockback = {
  meleeAttack1: 10,
  meleeAttack2: 30,
  meleeAttack3: 2,
  meleeUltimate: 40, // Very knockback
  rangedAttack1: 5,
  rangedAttack2: 10,
  rangedAttack3: 5,
  rangedHeavyAttack2: 15,
  dashAttack: 30, // very knockback
  rangedUltimate: 30, // very knockback
  heal: 0,
};

// Shared attack configuration for all jobs
const sharedAttacks = {
  attack1: {
    attackType: 'standard' as const,
    name: 'Quick Strike',
    description:
      'A swift blade attack that deals moderate damage to nearby enemies. Low cooldown allows for rapid strikes.',
    damage: 10,
    cooldown: 0.1,
    critChance: 0.1,
    knockback: _knockback.meleeAttack1,
    range: 50,
    hits: 1,
    targets: 5,
    manaCost: 0,
    manaLeech: 10, // Default mana leech for basic attack
    hpLeech: 2, // Default HP leech for basic attack
    icon: 'slash1',
    audio: 'p_att_phys',
  },
  attack2: {
    attackType: 'standard' as const,
    name: 'Power Slash',
    description:
      'A devastating overhead swing that cleaves through multiple foes. Deals heavy damage with minimal knockback.',
    damage: 30,
    cooldown: 1.0,
    critChance: 0.1,
    knockback: _knockback.meleeAttack2,
    range: 75,
    hits: 1,
    targets: 6,
    manaCost: 10,
    icon: 'slash2',
    audio: 'p_att_phys',
  },
  attack3: {
    attackType: 'standard' as const,
    name: 'Ultimate Slash',
    description: 'An attack that gathers all power into one devestating blow.',
    damage: 100,
    cooldown: 5.0,
    critChance: 0.1,
    knockback: _knockback.meleeUltimate,
    range: 75,
    hits: 1,
    targets: 100,
    manaCost: 30,
    icon: 'slash3',
    audio: 'p_att_phys',
  },
};

export const jobAttributes: Record<string, JobConfig> = {
  soldier: {
    displayName: 'Soldier',
    spriteKey: 'soldier',
    unlockLevel: 0, // Unlocked by default
    baseStats: {
      health: 120,
      moveSpeed: 250,
      mana: 30,
      hpRecovery: 1,
      knockbackImmune: true, // immune to knockback
      manaRecovery: 0.5,
    },
    attacks: {
      attack1: {
        attackType: 'standard' as const,
        name: 'Quick Strike',
        description:
          'A swift blade attack that deals moderate damage to nearby enemies. Low cooldown allows for rapid strikes.',
        damage: 20,
        cooldown: 0.1,
        critChance: 0.1,
        knockback: _knockback.meleeAttack1,
        range: 50,
        hits: 1,
        targets: 5,
        manaCost: 0,
        manaLeech: 10, // Moderate mana leech for soldier
        hpLeech: 3, // Higher HP leech for tank class
        icon: 'slash1',
        audio: 'p_att_phys',
      },
      attack2: {
        attackType: 'projectile' as const,
        name: 'Rapid Shot',
        description: 'Fires an arrows rapidly.',
        damage: 20,
        cooldown: 0.5,
        critChance: 0.1,
        knockback: _knockback.rangedAttack1,
        range: 500,
        hits: 1,
        targets: 1,
        manaCost: 5,
        projectile: 'arrow', // Test projectile for soldier
        icon: 'arrow2',
        audio: 'p_att_phys',
      },
      attack3: {
        attackType: 'standard' as const,
        name: 'Power Slash',
        description:
          'A devastating overhead swing that cleaves through multiple foes. Deals heavy damage with minimal knockback.',
        damage: 100,
        cooldown: 3,
        critChance: 0.1,
        knockback: _knockback.meleeUltimate,
        range: 50,
        hits: 1,
        targets: 6,
        manaCost: 15,
        icon: 'slash3',
        audio: 'p_att_phys',
      },
    },
  },
  knight: {
    displayName: 'Knight',
    spriteKey: 'knight',
    unlockLevel: 0, // Unlock at level 2
    baseStats: {
      health: 150,
      moveSpeed: 200,
      mana: 50,
      hpRecovery: 1.5,
      manaRecovery: 0.3,
      knockbackImmune: true, // immune to knockback
    },
    attacks: {
      attack1: {
        ...sharedAttacks.attack1,
        range: 50,
      },
      attack2: {
        ...sharedAttacks.attack2,
        range: 75,
        manaCost: 10,
        damage: 20,
        hits: 2,
      },
      attack3: {
        ...sharedAttacks.attack3,
        name: 'Blazing Slash',
        description: 'An attack embedded in powerful flames.',
        icon: 'fire_sword',
        range: 110,
        manaCost: 20,
        cooldown: 5.0,
        damage: 50,
        targets: 100,
        hits: 2,
      },
    },
  },
  wizard: {
    displayName: 'Wizard',
    spriteKey: 'wizard',
    unlockLevel: 0, // Unlock at level 10
    baseStats: {
      health: 100,
      moveSpeed: 250,
      mana: 100,
      hpRecovery: 0.5,
      manaRecovery: 2,
    },
    attacks: {
      attack1: {
        attackType: 'area' as const,
        name: 'Frost Nova',
        description: 'Channel frost magic to create a freezing explosion in front of you.',
        damage: 10,
        cooldown: 0.6,
        critChance: 0,
        knockback: _knockback.rangedAttack1,
        range: 150,
        radius: 150,
        effectSprite: 'freeze',
        hits: 1,
        targets: 1,
        manaCost: 0,
        manaLeech: 10, // Low mana leech for wizard, relies on high mana regen
        hpLeech: 1, // Very low HP leech for magic users
        skillEffect: 'freeze',
        icon: 'ice1',
        audio: 'p_att_ice',
      },
      attack2: {
        attackType: 'projectile' as const,
        name: 'Fire Bolt',
        description: 'Channel fire magic to shoot a fireball in front of you.',
        damage: 30,
        cooldown: 0.8,
        critChance: 0,
        knockback: _knockback.rangedAttack2,
        range: 300,
        hits: 1,
        targets: 1,
        manaCost: 10,
        projectile: 'fireball',
        skillEffect: 'fire-explosion',
        icon: 'fire1',
        audio: 'p_att_fire',
      },
      attack3: {
        attackType: 'area' as const,
        name: 'Area Combustion',
        description: 'Channel fire magic to create a large explosion of fire.',
        damage: 40,
        cooldown: 8.0,
        critChance: 0.1,
        knockback: _knockback.rangedUltimate,
        range: 300,
        radius: 300,
        effectSprite: 'fire',
        hits: 1,
        targets: 5,
        manaCost: 30,
        skillEffect: 'fire-explosion',
        icon: 'fire2',
        audio: 'p_att_fire',
      },
    },
  },
  archer: {
    displayName: 'Archer',
    spriteKey: 'archer',
    unlockLevel: 0, // Unlocked by default
    baseStats: {
      health: 60,
      moveSpeed: 250,
      mana: 40,
      hpRecovery: 0.8,
      manaRecovery: 0.8,
      doubleJump: true,
    },
    attacks: {
      attack1: {
        attackType: 'projectile' as const,
        name: 'Quick Shot',
        description:
          'A swift arrow shot that deals moderate damage at range. Low cooldown for rapid fire.',
        damage: 12,
        cooldown: 0.1,
        critChance: 0.15,
        knockback: _knockback.rangedAttack1,
        range: 300,
        hits: 1,
        targets: 1,
        manaCost: 0,
        manaLeech: 10, // Low mana leech for ranged combat
        hpLeech: 1, // Low HP leech for ranged classes
        projectile: 'arrow',
        icon: 'arrow1',
        audio: 'p_att_phys',
      },
      attack2: {
        attackType: 'projectile' as const,
        name: 'Power Shot',
        description: 'A charged arrow that pierces through enemies dealing heavy damage.',
        damage: 30,
        cooldown: 0,
        critChance: 0,
        knockback: _knockback.rangedAttack2,
        range: 400,
        hits: 1,
        targets: 3,
        manaCost: 10,
        projectile: 'arrow',
        icon: 'arrow2',
        audio: 'p_att_phys',
      },
      attack3: {
        attackType: 'projectile' as const,
        name: 'Rain of Arrows',
        description: 'Unleash multiple arrows in a wide arc, hitting all enemies in front.',
        damage: 25,
        cooldown: 6.0,
        critChance: 0.1,
        knockback: _knockback.rangedUltimate,
        range: 350,
        hits: 5,
        targets: 1,
        manaCost: 25,
        projectile: 'arrow',
        icon: 'arrow3',
        audio: 'p_att_phys',
      },
    },
  },
  'armored-axeman': {
    displayName: 'Armored Axeman',
    spriteKey: 'armored-axeman',
    unlockLevel: 5, // Unlock at level 15
    baseStats: {
      health: 180,
      moveSpeed: 175,
      mana: 40,
      hpRecovery: 1.2,
      manaRecovery: 0.4,
      knockbackImmune: true, // immune to knockback
    },
    attacks: {
      attack1: {
        ...sharedAttacks.attack1,
        critChance: 0.8,
      },
      attack2: {
        ...sharedAttacks.attack2,
        critChance: 0.8,
        cooldown: 2.0,
      },
      attack3: {
        ...sharedAttacks.attack3,
        damage: 100,
        critChance: 0.8,
        cooldown: 6.0,
      },
    },
  },
  'knight-templar': {
    displayName: 'Knight Templar',
    spriteKey: 'knight-templar',
    unlockLevel: 5, // Unlock at level 20
    baseStats: {
      health: 200,
      moveSpeed: 150,
      mana: 80,
      hpRecovery: 2,
      manaRecovery: 1,
      knockbackImmune: true, // immune to knockback
    },
    attacks: {
      ...sharedAttacks,
      attack1: {
        ...sharedAttacks.attack1,
        attackType: 'standard' as const,
        range: 70,
      },
      attack3: {
        attackType: 'dash' as const,
        name: 'Shield Charge',
        description: 'Dashes forward while holding up the shield.',
        damage: 50,
        cooldown: 5.0,
        critChance: 0.1,
        knockback: _knockback.dashAttack,
        range: 200,
        hits: 2,
        targets: 10,
        manaCost: 20,
        dashSpeed: 400,
        icon: 'shield1',
        audio: 'p_att_phys',
      },
    },
  },
  lancer: {
    displayName: 'Lancer',
    spriteKey: 'lancer',
    unlockLevel: 5, // Unlocked by default
    baseStats: {
      health: 150,
      moveSpeed: 400, // Really fast movement speed
      mana: 50,
      hpRecovery: 1,
      manaRecovery: 0.7,
    },
    attacks: {
      attack1: {
        ...sharedAttacks.attack1,
        attackType: 'standard' as const,
        range: 90,
      },
      attack2: {
        attackType: 'dash' as const,
        description: 'A dash that uses the full speed of the steed.',
        name: 'Piercing Dash',
        damage: 40,
        cooldown: 1.0,
        critChance: 0.15,
        knockback: _knockback.dashAttack,
        range: 100,
        hits: 1,
        targets: 10,
        manaCost: 10,
        dashSpeed: 500,
        icon: 'charge1',
        audio: 'p_att_phys',
      },
      attack3: {
        attackType: 'dash' as const,
        name: 'Lightning Thrust',
        description: 'A lightning-enhanced attack while dashing on the trusty steed.',
        damage: 50,
        cooldown: 8.0,
        critChance: 0.1,
        knockback: _knockback.dashAttack,
        range: 100,
        hits: 1,
        targets: 10,
        manaCost: 20,
        dashSpeed: 600,
        icon: 'lightning2',
        audio: 'p_att_phys',
      },
    },
  },
  priest: {
    displayName: 'Priest',
    spriteKey: 'priest',
    unlockLevel: 0, // Unlock at level 8
    baseStats: {
      health: 85,
      moveSpeed: 250,
      mana: 120,
      hpRecovery: 1.5,
      manaRecovery: 2.5,
    },
    attacks: {
      attack1: {
        ...sharedAttacks.attack1,
        name: 'Holy Smite',
        description: 'Inflicts divine wrath upon enemies.',
        range: 150,
        icon: 'holy1',
        attackType: 'area' as const,
        damage: 10,
        cooldown: 0.6,
        critChance: 0,
        knockback: _knockback.rangedAttack1,
        radius: 150,
        hits: 1,
        targets: 1,
        manaCost: 0,
        manaLeech: 10, // Low mana leech for wizard, relies on high mana regen
        hpLeech: 1,
        skillEffect: 'holy',
        audio: 'p_att_fire',
      },
      attack2: {
        attackType: 'heal' as const,
        name: 'Heal',
        description: 'Restore health to nearby party members with divine healing power.',
        damage: 50, // Used as heal amount
        cooldown: 2.0,
        critChance: 0,
        knockback: _knockback.heal,
        range: 200,
        hits: 1,
        targets: 3, // Can heal up to 3 party members
        manaCost: 20,
        skillEffect: 'heal',
        icon: 'heal1',
        audio: 'p_att_heal',
      },
      attack3: {
        attackType: 'area' as const,
        name: 'Sunburst',
        description: 'Channels holy magic to cleanse evil.',
        damage: 100,
        cooldown: 5.0,
        critChance: 0.1,
        knockback: _knockback.rangedUltimate,
        range: 300,
        radius: 300,
        effectSprite: 'holy',
        hits: 1,
        targets: 1,
        manaCost: 30,
        skillEffect: 'holy-blow',
        icon: 'holy1',
        audio: 'p_att_fire',
      },
    },
  },
  swordsman: {
    displayName: 'Hero',
    spriteKey: 'swordsman',
    unlockLevel: 10, // Unlocked by default
    baseStats: {
      health: 105,
      moveSpeed: 300,
      mana: 60,
      hpRecovery: 1,
      manaRecovery: 0.6,
      doubleJump: true,
    },
    attacks: {
      attack1: {
        ...sharedAttacks.attack1,
        range: 80,
        critChance: 1.0, // Guaranteed crit
      },
      attack2: {
        ...sharedAttacks.attack2,
        name: 'Decimate Flash',
        description: 'An attack that decimates the enemy with 10 hits in an instant.',
        range: 90,
        cooldown: 2.0,
        critChance: 1.0, // Guaranteed crit
        manaCost: 15,
        damage: 3,
        targets: 100,
        hits: 10,
      },
      attack3: {
        ...sharedAttacks.attack3,
        name: 'Tsubame Gaeshi',
        range: 100,
        critChance: 1.0, // Guaranteed crit
        manaCost: 20,
        cooldown: 5.0,
        damage: 35,
        targets: 100,
        hits: 3,
      },
    },
  },
};

// Export a default object for compatibility with existing imports
export default { jobs: jobAttributes };
